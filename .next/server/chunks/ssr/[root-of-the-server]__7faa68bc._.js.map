{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/product-data.ts"],"sourcesContent":["import { collection, getDocs, writeBatch, doc } from 'firebase/firestore';\nimport type { Firestore } from 'firebase/firestore';\n\nexport type Product = {\n    id: string;\n    title: string;\n    description: string;\n    price: number;\n    imageUrl: string;\n    imageHint: string;\n    stripePaymentLink: string;\n    buyButtonId: string;\n    publishableKey: string;\n    status: 'available' | 'limited' | 'sold_out';\n};\n\nexport const PRODUCTS: Product[] = [\n    {\n        \"id\": \"adventurer-tee\",\n        \"title\": \"Adventurer Tee\",\n        \"description\": \"Soft cotton tee for bold explorers.\",\n        \"price\": 19.99,\n        \"imageUrl\": \"https://picsum.photos/seed/adventurer-tee/800/800\",\n        \"imageHint\": \"graphic t-shirt\",\n        \"stripePaymentLink\": \"https://buy.stripe.com/test_5kAdSfa21g5v85a7ss\",\n        \"buyButtonId\": \"buy_btn_1SOGGFEjTiKwQHWzk29ON4YI\",\n        \"publishableKey\": \"pk_live_51J1H3xEjTiKwQHWz5DuUnk4wPkPKoVcQ0HjlWIyW3iXxNzJe21lrZKYtlnU1dhio4f82DQzeBhJKlAVN9I40pkvb005oa4LQ3F\",\n        \"status\": \"available\"\n    },\n    {\n        \"id\": \"mana-mug\",\n        \"title\": \"Mana Mug\",\n        \"description\": \"Restores +10 energy every morning.\",\n        \"price\": 14.99,\n        \"imageUrl\": \"https://picsum.photos/seed/mana-mug/800/800\",\n        \"imageHint\": \"ceramic mug\",\n        \"stripePaymentLink\": \"https://buy.stripe.com/test_5kAdSfa21g5v85a7ss\",\n        \"buyButtonId\": \"buy_btn_1SOGGFEjTiKwQHWzk29ON4YI\",\n        \"publishableKey\": \"pk_live_51J1H3xEjTiKwQHWz5DuUnk4wPkPKoVcQ0HjlWIyW3iXxNzJe21lrZKYtlnU1dhio4f82DQzeBhJKlAVN9I40pkvb005oa4LQ3F\",\n        \"status\": \"limited\"\n    },\n    {\n        \"id\": \"epic-quest-map\",\n        \"title\": \"Epic Quest Map\",\n        \"description\": \"Unfold your next great adventure.\",\n        \"price\": 24.99,\n        \"imageUrl\": \"https://picsum.photos/seed/epic-quest-map/800/800\",\n        \"imageHint\": \"ancient map\",\n        \"stripePaymentLink\": \"https://buy.stripe.com/test_5kAdSfa21g5v85a7ss\",\n        \"buyButtonId\": \"buy_btn_1SOGGFEjTiKwQHWzk29ON4YI\",\n        \"publishableKey\": \"pk_live_51J1H3xEjTiKwQHWz5DuUnk4wPkPKoVcQ0HjlWIyW3iXxNzJe21lrZKYtlnU1dhio4f82DQzeBhJKlAVN9I40pkvb005oa4LQ3F\",\n        \"status\": \"available\"\n    },\n    {\n        \"id\": \"tome-of-forbidden-farts\",\n        \"title\": \"Tome of Forbidden Farts\",\n        \"description\": \"Unlock ancient and powerful wind-breaking techniques. (Signed by the author).\",\n        \"price\": 49.99,\n        \"imageUrl\": \"https://picsum.photos/seed/tome-of-farts/800/800\",\n        \"imageHint\": \"ancient book\",\n        \"stripePaymentLink\": \"https://buy.stripe.com/test_5kAdSfa21g5v85a7ss\",\n        \"buyButtonId\": \"buy_btn_1SOGGFEjTiKwQHWzk29ON4YI\",\n        \"publishableKey\": \"pk_live_51J1H3xEjTiKwQHWz5DuUnk4wPkPKoVcQ0HjlWIyW3iXxNzJe21lrZKYtlnU1dhio4f82DQzeBhJKlAVN9I40pkvb005oa4LQ3F\",\n        \"status\": \"sold_out\"\n    }\n];\n\nlet hasSeeded = false;\n\n// This function is now non-blocking and safe to call multiple times.\nexport function seedProducts(db: Firestore) {\n    // Prevent multiple seeding attempts during hot reloads or re-renders.\n    if (hasSeeded) {\n        return;\n    }\n\n    const productsRef = collection(db, 'products');\n\n    // Get the documents, but do not block on the promise.\n    getDocs(productsRef)\n        .then(snapshot => {\n            if (snapshot.empty) {\n                hasSeeded = true; // Mark as seeded once we confirm it's empty\n                console.log(\"No products found, seeding initial data...\");\n                const batch = writeBatch(db);\n                PRODUCTS.forEach(product => {\n                    const { id, ...data } = product;\n                    const docRef = doc(db, 'products', id);\n                    batch.set(docRef, data);\n                });\n                // Non-blocking write\n                batch.commit().then(() => {\n                    console.log(\"Seeding complete.\");\n                }).catch(err => {\n                    console.error(\"Error committing seed batch:\", err);\n                    hasSeeded = false; // Allow retrying if the commit fails\n                });\n            } else {\n                 hasSeeded = true; // Mark as seeded if collection already exists.\n            }\n        })\n        .catch(err => {\n            // This can happen if rules are not yet ready or user is not authenticated.\n            // This is not a critical error, so we just log it.\n            console.warn(\"Could not check products collection for seeding:\", err.message);\n        });\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAgBO,MAAM,WAAsB;IAC/B;QACI,MAAM;QACN,SAAS;QACT,eAAe;QACf,SAAS;QACT,YAAY;QACZ,aAAa;QACb,qBAAqB;QACrB,eAAe;QACf,kBAAkB;QAClB,UAAU;IACd;IACA;QACI,MAAM;QACN,SAAS;QACT,eAAe;QACf,SAAS;QACT,YAAY;QACZ,aAAa;QACb,qBAAqB;QACrB,eAAe;QACf,kBAAkB;QAClB,UAAU;IACd;IACA;QACI,MAAM;QACN,SAAS;QACT,eAAe;QACf,SAAS;QACT,YAAY;QACZ,aAAa;QACb,qBAAqB;QACrB,eAAe;QACf,kBAAkB;QAClB,UAAU;IACd;IACA;QACI,MAAM;QACN,SAAS;QACT,eAAe;QACf,SAAS;QACT,YAAY;QACZ,aAAa;QACb,qBAAqB;QACrB,eAAe;QACf,kBAAkB;QAClB,UAAU;IACd;CACH;AAED,IAAI,YAAY;AAGT,SAAS,aAAa,EAAa;IACtC,sEAAsE;IACtE,IAAI,WAAW;QACX;IACJ;IAEA,MAAM,cAAc,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,IAAI;IAEnC,sDAAsD;IACtD,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAE,aACH,IAAI,CAAC,CAAA;QACF,IAAI,SAAS,KAAK,EAAE;YAChB,YAAY,MAAM,4CAA4C;YAC9D,QAAQ,GAAG,CAAC;YACZ,MAAM,QAAQ,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE;YACzB,SAAS,OAAO,CAAC,CAAA;gBACb,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,GAAG;gBACxB,MAAM,SAAS,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,IAAI,YAAY;gBACnC,MAAM,GAAG,CAAC,QAAQ;YACtB;YACA,qBAAqB;YACrB,MAAM,MAAM,GAAG,IAAI,CAAC;gBAChB,QAAQ,GAAG,CAAC;YAChB,GAAG,KAAK,CAAC,CAAA;gBACL,QAAQ,KAAK,CAAC,gCAAgC;gBAC9C,YAAY,OAAO,qCAAqC;YAC5D;QACJ,OAAO;YACF,YAAY,MAAM,+CAA+C;QACtE;IACJ,GACC,KAAK,CAAC,CAAA;QACH,2EAA2E;QAC3E,mDAAmD;QACnD,QAAQ,IAAI,CAAC,oDAAoD,IAAI,OAAO;IAChF;AACR","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/game/SplashScreen.tsx"],"sourcesContent":["\n\"use client\";\n\nimport * as React from \"react\";\nimport { useEffect } from \"react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowRight, Loader2 } from \"lucide-react\";\nimport placeholderData from \"@/lib/placeholder-images.json\";\nimport { useUser, useAuth, useFirebase } from \"@/firebase\";\nimport { initiateAnonymousSignIn } from \"@/firebase/non-blocking-login\";\nimport { seedProducts } from \"@/lib/product-data\";\n\nconst throneImage = placeholderData.placeholderImages.find(p => p.id === \"splash-throne\");\n\nconst Bubble = ({ id }: { id: number }) => {\n  const [style, setStyle] = React.useState({});\n\n  useEffect(() => {\n    // This code runs only on the client, after the initial render.\n    const size = 2 + Math.random() * 4;\n    const left = Math.random() * 100;\n    const duration = 5 + Math.random() * 10;\n    const delay = Math.random() * 5;\n\n    setStyle({\n      width: `${size}rem`,\n      height: `${size}rem`,\n      left: `${left}vw`,\n      animationDuration: `${duration}s`,\n      animationDelay: `${delay}s`,\n    });\n  }, [id]);\n\n  return <div className=\"bubble\" style={style}></div>;\n};\n\nexport function SplashScreen() {\n  const [bubbles, setBubbles] = React.useState<number[]>([]);\n  const { user, isUserLoading } = useUser();\n  const auth = useAuth();\n  const { firestore } = useFirebase();\n\n  useEffect(() => {\n    const numBubbles = 20;\n    setBubbles(Array.from({ length: numBubbles }, (_, i) => i));\n  }, []);\n\n  // Automatically sign in anonymously if not logged in\n  useEffect(() => {\n    if (!isUserLoading && !user && auth) {\n      initiateAnonymousSignIn(auth);\n    }\n  }, [isUserLoading, user, auth]);\n\n  // Once the user is authenticated, seed the products.\n  // This is non-blocking.\n  useEffect(() => {\n    if (firestore && user) {\n        seedProducts(firestore);\n    }\n  }, [firestore, user]);\n\n\n  const renderContent = () => {\n    // Show loader while checking auth state or while the user object is being populated after sign-in\n    if (isUserLoading || !user) {\n      return <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />;\n    }\n\n    // Once user object is available, show the \"Begin\" button\n    if (user) {\n      return (\n        <Button asChild size=\"lg\" className=\"animate-pulse\">\n          <Link href=\"/character-creation\">\n            Begin Your Journey <ArrowRight className=\"ml-2\" />\n          </Link>\n        </Button>\n      );\n    }\n    \n    // Fallback, though should be covered by the loading state\n    return <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />;\n  };\n\n  return (\n    <div className=\"relative flex flex-col items-center justify-center min-h-screen text-center overflow-hidden p-4\">\n      {bubbles.map((id) => (\n        <Bubble key={id} id={id} />\n      ))}\n      <div className=\"relative z-10 flex flex-col items-center\">\n        <div className=\"mb-8 animate-pulse-glow rounded-full\">\n            {throneImage && (\n                <Image\n                    src={throneImage.imageUrl}\n                    alt={throneImage.description}\n                    width={300}\n                    height={300}\n                    className=\"rounded-full object-cover border-4 border-primary/50\"\n                    data-ai-hint={throneImage.imageHint}\n                    priority\n                />\n            )}\n        </div>\n        <h1 className=\"font-headline text-5xl md:text-7xl lg:text-8xl font-bold text-glow mb-2\">\n          Poot Quest\n        </h1>\n        <p className=\"font-headline text-xl md:text-2xl text-primary mb-8\">\n          The Land of Never-Ending Asses\n        </p>\n        <div className=\"min-h-[52px] flex items-center justify-center\">\n          {renderContent()}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}